/*
SQLyog Ultimate v12.5.0 (64 bit)
MySQL - 5.7.44 : Database - generator
*********************************************************************
*/

/*!40101 SET NAMES utf8 */;

/*!40101 SET SQL_MODE=''*/;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;
/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */;
CREATE DATABASE /*!32312 IF NOT EXISTS*/`generator` /*!40100 DEFAULT CHARACTER SET utf8 */;

USE `generator`;

/*Table structure for table `generator_column` */

DROP TABLE IF EXISTS `generator_column`;

CREATE TABLE `generator_column` (
  `id` varchar(32) NOT NULL COMMENT '字段主键',
  `table_id` varchar(32) DEFAULT NULL COMMENT '关联表的ID',
  `column_name` varchar(200) DEFAULT NULL COMMENT '字段名',
  `type_name` varchar(200) DEFAULT NULL COMMENT '字段类型名称',
  `column_size` varchar(10) DEFAULT NULL COMMENT '字段长度',
  `decimal_digits` varchar(10) DEFAULT NULL COMMENT '小数部分的位数',
  `parmary_key` tinyint(2) DEFAULT NULL COMMENT '是否为主键',
  `imported_key` tinyint(2) DEFAULT NULL COMMENT '是否为外键',
  `column_def` varchar(200) DEFAULT NULL COMMENT '默认值',
  `nullable` tinyint(200) DEFAULT NULL COMMENT '是否允许为空',
  `java_type` varchar(500) DEFAULT NULL COMMENT 'JAVA类型',
  `java_field` varchar(200) DEFAULT NULL COMMENT 'JAVA字段名',
  `listable` char(1) DEFAULT NULL COMMENT '是否列表字段',
  `queryable` char(1) DEFAULT NULL COMMENT '是否查询字段',
  `formable` varchar(45) DEFAULT NULL COMMENT '是否表单显示',
  `query_type` varchar(200) DEFAULT NULL COMMENT '查询方式（等于、不等于、大于、小于、范围、左LIKE、右LIKE、左右LIKE）',
  `input_type` varchar(200) DEFAULT NULL COMMENT '字段生成方案（文本框、文本域、下拉框、复选框、单选框、字典选择、人员选择、部门选择、区域选择）',
  `dict_group` varchar(200) DEFAULT NULL COMMENT '字典分组',
  `sort` int(10) DEFAULT NULL,
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `remarks` varchar(255) DEFAULT NULL COMMENT '备注信息',
  `del_flag` char(1) NOT NULL DEFAULT '0' COMMENT '删除标记（0：正常；1：删除）',
  `regex_valid` varchar(20) DEFAULT NULL COMMENT '验证规则',
  `valid_type` varchar(20) DEFAULT NULL COMMENT '校验类型',
  `max_size` int(5) DEFAULT NULL COMMENT '最大长度',
  `min_size` int(5) DEFAULT NULL COMMENT '最小长度',
  `max_value` varchar(30) DEFAULT NULL COMMENT '最大值',
  `min_value` varchar(30) DEFAULT NULL COMMENT '最小值',
  `nullmsg` varchar(255) DEFAULT NULL COMMENT '为空提示',
  `query_model` varchar(20) DEFAULT NULL COMMENT '查询模式',
  `form_type` varchar(20) DEFAULT NULL COMMENT '显示表单类型',
  `foreign_table` varchar(45) DEFAULT NULL COMMENT '外键表',
  PRIMARY KEY (`id`),
  KEY `codegen_table_column_del_flag` (`del_flag`),
  KEY `table_id` (`table_id`),
  CONSTRAINT `generator_column_ibfk_1` FOREIGN KEY (`table_id`) REFERENCES `generator_table` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='代码字段表';

/*Data for the table `generator_column` */

insert  into `generator_column`(`id`,`table_id`,`column_name`,`type_name`,`column_size`,`decimal_digits`,`parmary_key`,`imported_key`,`column_def`,`nullable`,`java_type`,`java_field`,`listable`,`queryable`,`formable`,`query_type`,`input_type`,`dict_group`,`sort`,`create_by`,`create_date`,`update_by`,`update_date`,`remarks`,`del_flag`,`regex_valid`,`valid_type`,`max_size`,`min_size`,`max_value`,`min_value`,`nullmsg`,`query_model`,`form_type`,`foreign_table`) values 
('0e52dcdd8cd94445a0694f9229d4c8cb','42ebc64eb0df496f91309729ff6c5fc8','status','VARCHAR','20','0',0,0,NULL,1,'String','status','1','0','1','eq',NULL,NULL,14,NULL,NULL,NULL,NULL,'状态 0 正常 1 异常 2待处理 3已处理','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('11e8849056424071b8e5ee30e9425645','c3f68d2041134984880e1c01dda80674','produce_name','VARCHAR','100','0',0,0,NULL,1,'String','produceName','1','0','1','eq',NULL,NULL,9,NULL,NULL,NULL,NULL,'产品名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('1f3184fc843040dd8290156433314c2f','c3f68d2041134984880e1c01dda80674','create_time','DATETIME','19','0',0,0,NULL,1,'Date','createTime','1','0','1','eq',NULL,NULL,11,NULL,NULL,NULL,NULL,'创建时间','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('2387f4c18b0b4551b0c378317c7a282e','42ebc64eb0df496f91309729ff6c5fc8','data_value','VARCHAR','50','0',0,0,NULL,1,'String','dataValue','1','0','1','eq',NULL,NULL,9,NULL,NULL,NULL,NULL,'数据值','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('2c99ef1109424527b011d5ab96ae4afe','c3f68d2041134984880e1c01dda80674','binding_location','VARCHAR','50','0',0,0,NULL,1,'String','bindingLocation','1','0','1','eq',NULL,NULL,3,NULL,NULL,NULL,NULL,'绑定位置','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('2e66750c736b4d8d823fcb6570560bf1','c3f68d2041134984880e1c01dda80674','update_time','DATETIME','19','0',0,0,NULL,1,'Date','updateTime','1','0','1','eq',NULL,NULL,12,NULL,NULL,NULL,NULL,'更新时间','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('30966322ae304410965ce0aee19ba326','42ebc64eb0df496f91309729ff6c5fc8','processing_result','VARCHAR','255','0',0,0,NULL,1,'String','processingResult','1','0','1','eq',NULL,NULL,11,NULL,NULL,NULL,NULL,'处理结果','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('511ae0db7af8443e937659c03e04327a','c3f68d2041134984880e1c01dda80674','create_by','BIGINT','19','0',0,0,NULL,1,'Long','createBy','1','0','1','eq',NULL,NULL,14,NULL,NULL,NULL,NULL,'创建人id','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('556025857f8a4c8183790101242e1f0d','42ebc64eb0df496f91309729ff6c5fc8','alarm_time','DATETIME','19','0',0,0,NULL,1,'Date','alarmTime','1','0','1','eq',NULL,NULL,10,NULL,NULL,NULL,NULL,'报警时间','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('5683b514d6144cd6bfd003e3317c2a77','42ebc64eb0df496f91309729ff6c5fc8','device_name','VARCHAR','255','0',0,0,NULL,1,'String','deviceName','1','0','1','eq',NULL,NULL,2,NULL,NULL,NULL,NULL,'设备名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('5794a0647fa845409ed42a4bc2aa6b5c','42ebc64eb0df496f91309729ff6c5fc8','processing_time','DATETIME','19','0',0,0,NULL,1,'Date','processingTime','1','0','1','eq',NULL,NULL,13,NULL,NULL,NULL,NULL,'处理时间','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('5918ed0bac044b3e96f83057d90f522f','42ebc64eb0df496f91309729ff6c5fc8','function_name','VARCHAR','255','0',0,0,NULL,1,'String','functionName','1','0','1','eq',NULL,NULL,7,NULL,NULL,NULL,NULL,'功能名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('5a17fbcc42c548c784e6a1dbf6349ef8','42ebc64eb0df496f91309729ff6c5fc8','remark','VARCHAR','255','0',0,0,NULL,1,'String','remark','1','0','1','eq',NULL,NULL,19,NULL,NULL,NULL,NULL,'备注','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('5e038f9fb92f46548634bbb496ff7f1f','c3f68d2041134984880e1c01dda80674','physical_location_type','INT','10','0',0,0,NULL,1,'Integer','physicalLocationType','1','0','1','eq',NULL,NULL,5,NULL,NULL,NULL,NULL,'物理位置类型 0楼层 1房间 2床位','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('63cf7541fcbf4b14b433db61d9871e3f','42ebc64eb0df496f91309729ff6c5fc8','processor','VARCHAR','255','0',0,0,NULL,1,'String','processor','1','0','1','eq',NULL,NULL,12,NULL,NULL,NULL,NULL,'处理人','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('6f2e14aad30e48e29525f81425ed3a16','c3f68d2041134984880e1c01dda80674','update_by','BIGINT','19','0',0,0,NULL,1,'Long','updateBy','1','0','1','eq',NULL,NULL,15,NULL,NULL,NULL,NULL,'更新人id','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('7213433723314e0e9f4e06ca5b3479b3','c3f68d2041134984880e1c01dda80674','remark','VARCHAR','255','0',0,0,NULL,1,'String','remark','1','0','1','eq',NULL,NULL,16,NULL,NULL,NULL,NULL,'备注','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('735bf9f5e47149108e3990525b3c06c9','42ebc64eb0df496f91309729ff6c5fc8','iot_id','VARCHAR','255','0',0,0,NULL,1,'String','ioid','1','0','1','eq',NULL,NULL,3,NULL,NULL,NULL,NULL,'设备ID','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('85f549ab429445f69dfb970a1692e61d','c3f68d2041134984880e1c01dda80674','location_type','INT','10','0',0,0,NULL,1,'Integer','locationType','1','0','1','eq',NULL,NULL,4,NULL,NULL,NULL,NULL,'位置类型 0 老人 1位置','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('8ac5b7b0b67940c4ae7008e73ce09447','c3f68d2041134984880e1c01dda80674','device_id','VARCHAR','50','0',0,0,NULL,1,'String','deviceId','1','0','1','eq',NULL,NULL,2,NULL,NULL,NULL,NULL,'设备ID','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('9633e743b7d8486f94e3542049e25611','42ebc64eb0df496f91309729ff6c5fc8','note_name','VARCHAR','255','0',0,0,NULL,1,'String','noteName','1','0','1','eq',NULL,NULL,4,NULL,NULL,NULL,NULL,'备注名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('b0e376118e5c46bb802a1d3394789477','42ebc64eb0df496f91309729ff6c5fc8','product_name','VARCHAR','500','0',0,0,NULL,1,'String','producname','1','0','1','eq',NULL,NULL,6,NULL,NULL,NULL,NULL,'产品名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('b254f9d12bc94abfb8ae36d060036d98','c3f68d2041134984880e1c01dda80674','id','BIGINT','19','0',1,0,NULL,0,'Long','id','1','0','1','eq',NULL,NULL,1,NULL,NULL,NULL,NULL,'id','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('b7c356ed809a410b96a92392a59e103e','c3f68d2041134984880e1c01dda80674','product_id','VARCHAR','100','0',0,0,NULL,1,'String','producid','1','0','1','eq',NULL,NULL,8,NULL,NULL,NULL,NULL,'产品key','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('b9ba4227c5f44f31b5fedeb8eef783ed','42ebc64eb0df496f91309729ff6c5fc8','create_time','DATETIME','19','0',0,0,NULL,0,'Date','createTime','1','0','1','eq',NULL,NULL,15,NULL,NULL,NULL,NULL,'创建时间','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('ba5f40d48d244c38855d5522317e2c48','c3f68d2041134984880e1c01dda80674','is_deleted','BIT','1','0',0,0,'0',1,'Short','isDeleted','1','0','1','eq',NULL,NULL,13,NULL,NULL,NULL,NULL,'是否删除','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('c56f4903114546c2b5f4ac59d247443b','42ebc64eb0df496f91309729ff6c5fc8','product_id','VARCHAR','500','0',0,0,NULL,1,'String','producid','1','0','1','eq',NULL,NULL,5,NULL,NULL,NULL,NULL,'所属产品的key','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('c899577aa6474923a86a56c16147939b','42ebc64eb0df496f91309729ff6c5fc8','id','BIGINT','19','0',1,0,NULL,0,'Long','id','1','0','1','eq',NULL,NULL,1,NULL,NULL,NULL,NULL,'告警规则ID，自增主键','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('cf4a97b815c64ab3a40c35879027799e','42ebc64eb0df496f91309729ff6c5fc8','access_location','VARCHAR','255','0',0,0,NULL,1,'String','accessLocation','1','0','1','eq',NULL,NULL,8,NULL,NULL,NULL,NULL,'接入位置','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('d2037126965c45f891e67e5ecef5a517','c3f68d2041134984880e1c01dda80674','device_description','VARCHAR','255','0',0,0,NULL,1,'String','deviceDescription','1','0','1','eq',NULL,NULL,10,NULL,NULL,NULL,NULL,'位置备注','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('d9769c4cb3f046a2be67fadd20ca5a2d','c3f68d2041134984880e1c01dda80674','note_name','VARCHAR','100','0',0,0,NULL,1,'String','noteName','1','0','1','eq',NULL,NULL,7,NULL,NULL,NULL,NULL,'备注名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('f123678c156c4deb9397f27f20834de7','42ebc64eb0df496f91309729ff6c5fc8','update_by','BIGINT','19','0',0,0,NULL,1,'Long','updateBy','1','0','1','eq',NULL,NULL,18,NULL,NULL,NULL,NULL,'更新人id','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('f2fcb238450946c28860d7720725d475','c3f68d2041134984880e1c01dda80674','device_name','VARCHAR','100','0',0,0,NULL,1,'String','deviceName','1','0','1','eq',NULL,NULL,6,NULL,NULL,NULL,NULL,'设备名称','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('f4fb9861ac714864a92656c82d52c986','42ebc64eb0df496f91309729ff6c5fc8','update_time','DATETIME','19','0',0,0,NULL,1,'Date','updateTime','1','0','1','eq',NULL,NULL,16,NULL,NULL,NULL,NULL,'更新时间','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL),
('fb281804fd184d899a73f5ee69da1bb6','42ebc64eb0df496f91309729ff6c5fc8','create_by','BIGINT','19','0',0,0,NULL,1,'Long','createBy','1','0','1','eq',NULL,NULL,17,NULL,NULL,NULL,NULL,'创建人id','0',NULL,NULL,NULL,NULL,NULL,NULL,NULL,NULL,'input',NULL);

/*Table structure for table `generator_data_source` */

DROP TABLE IF EXISTS `generator_data_source`;

CREATE TABLE `generator_data_source` (
  `id` varchar(32) NOT NULL COMMENT '主键',
  `db_key` varchar(50) NOT NULL COMMENT '索引关键字',
  `description` varchar(50) NOT NULL COMMENT '描述',
  `driver_class` varchar(50) NOT NULL COMMENT '驱动',
  `url` varchar(200) NOT NULL COMMENT 'URL',
  `db_user` varchar(50) NOT NULL COMMENT '帐号',
  `db_password` varchar(50) DEFAULT NULL COMMENT '密码',
  `db_type` varchar(50) DEFAULT NULL COMMENT '数据库类型',
  `db_name` varchar(50) DEFAULT NULL COMMENT '数据库名称',
  `create_by` varchar(32) DEFAULT NULL COMMENT 'create_by',
  `create_date` datetime DEFAULT NULL COMMENT 'create_date',
  `update_by` varchar(32) DEFAULT NULL COMMENT 'update_by',
  `update_date` datetime DEFAULT NULL COMMENT 'update_date',
  `remarks` varchar(255) DEFAULT NULL COMMENT 'remarks',
  `del_flag` char(1) DEFAULT NULL COMMENT 'del_flag',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='数据源';

/*Data for the table `generator_data_source` */

insert  into `generator_data_source`(`id`,`db_key`,`description`,`driver_class`,`url`,`db_user`,`db_password`,`db_type`,`db_name`,`create_by`,`create_date`,`update_by`,`update_date`,`remarks`,`del_flag`) values 
('8b768ad2208843898fb238c855067b8c','zhyl','','com.mysql.jdbc.Driver','jdbc:mysql://43.152.192.9:3306/zhyl-auth?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai','root','YqtFqpQu54%7','MySql','zhyl-auth',NULL,NULL,NULL,NULL,NULL,NULL);

/*Table structure for table `generator_scheme` */

DROP TABLE IF EXISTS `generator_scheme`;

CREATE TABLE `generator_scheme` (
  `id` varchar(32) NOT NULL COMMENT '编号',
  `table_type` varchar(2000) DEFAULT NULL COMMENT '表类型',
  `module_name` varchar(30) DEFAULT NULL COMMENT '生成模块名',
  `entity_name` varchar(30) DEFAULT NULL COMMENT '实体名',
  `table_name` varchar(256) DEFAULT NULL COMMENT '表名',
  `function_name` varchar(500) DEFAULT NULL COMMENT '生成功能名',
  `function_desc` varchar(100) DEFAULT NULL COMMENT '生成功能名（简写）',
  `function_author` varchar(100) DEFAULT NULL COMMENT '生成功能作者',
  `table_id` varchar(200) DEFAULT NULL COMMENT '生成表编号',
  `template_scheme_id` varchar(32) DEFAULT NULL COMMENT '模板ID',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `remarks` varchar(255) DEFAULT NULL COMMENT '备注信息',
  `del_flag` char(1) NOT NULL DEFAULT '0' COMMENT '删除标记（0：正常；1：删除）',
  PRIMARY KEY (`id`),
  KEY `codegen_scheme_del_flag` (`del_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='生成方案';

/*Data for the table `generator_scheme` */

insert  into `generator_scheme`(`id`,`table_type`,`module_name`,`entity_name`,`table_name`,`function_name`,`function_desc`,`function_author`,`table_id`,`template_scheme_id`,`create_by`,`create_date`,`update_by`,`update_date`,`remarks`,`del_flag`) values 
('e3b22fbc5a7b486391281ddb56d656dd',NULL,NULL,'Device','device','device','device','zhaoxiang','c3f68d2041134984880e1c01dda80674','67f7f85896dc4755b9f2e25888795a54',NULL,NULL,NULL,NULL,NULL,'0'),
('ec493b577d8a48819f2bb004968be780',NULL,NULL,'DeviceData','device_data','deviceData','device_data','author','42ebc64eb0df496f91309729ff6c5fc8','67f7f85896dc4755b9f2e25888795a54',NULL,NULL,NULL,NULL,NULL,'0');

/*Table structure for table `generator_table` */

DROP TABLE IF EXISTS `generator_table`;

CREATE TABLE `generator_table` (
  `id` varchar(32) NOT NULL COMMENT '生成方案主键',
  `source_id` varchar(32) DEFAULT NULL COMMENT '数据源ID',
  `title` varchar(200) DEFAULT NULL COMMENT '实体名称',
  `table_name` varchar(200) DEFAULT NULL COMMENT '实体名称',
  `table_type` varchar(10) DEFAULT NULL COMMENT '表的类型',
  `table_pk_type` varchar(5) DEFAULT NULL COMMENT '数据主键类型',
  `create_by` varchar(64) DEFAULT NULL COMMENT '创建者',
  `create_date` datetime DEFAULT NULL COMMENT '创建时间',
  `update_by` varchar(64) DEFAULT NULL COMMENT '更新者',
  `update_date` datetime DEFAULT NULL COMMENT '更新时间',
  `remarks` varchar(255) DEFAULT NULL COMMENT '备注信息',
  `del_flag` char(1) NOT NULL DEFAULT '0' COMMENT '删除标记（0：正常；1：删除）',
  `sync_database` tinyint(1) DEFAULT NULL COMMENT '是否同步数据库',
  `class_name` varchar(50) DEFAULT NULL COMMENT '实体名称',
  `is_test` tinyint(1) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `codegen_scheme_del_flag` (`del_flag`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='代码生成信息';

/*Data for the table `generator_table` */

insert  into `generator_table`(`id`,`source_id`,`title`,`table_name`,`table_type`,`table_pk_type`,`create_by`,`create_date`,`update_by`,`update_date`,`remarks`,`del_flag`,`sync_database`,`class_name`,`is_test`) values 
('42ebc64eb0df496f91309729ff6c5fc8','8b768ad2208843898fb238c855067b8c','device_data','device_data',NULL,NULL,NULL,NULL,NULL,NULL,'device_data','0',1,NULL,0),
('c3f68d2041134984880e1c01dda80674','8b768ad2208843898fb238c855067b8c','device','device',NULL,NULL,NULL,NULL,NULL,NULL,'device','0',1,NULL,0);

/*Table structure for table `generator_template` */

DROP TABLE IF EXISTS `generator_template`;

CREATE TABLE `generator_template` (
  `id` varchar(32) NOT NULL COMMENT '主键',
  `name` varchar(32) NOT NULL COMMENT '模板名称',
  `key` varchar(32) DEFAULT NULL COMMENT '标识',
  `enable_package` varchar(4) DEFAULT NULL COMMENT '是否是class',
  `target_package` varchar(500) DEFAULT NULL COMMENT '目标包路径',
  `target_path` varchar(500) DEFAULT NULL COMMENT '生成目标目录',
  `template_content` text NOT NULL COMMENT '模板内容',
  `scheme_id` varchar(32) DEFAULT NULL COMMENT '方案ID',
  `name_format` varchar(50) DEFAULT NULL COMMENT '文件名格式',
  `name_underline` varchar(4) DEFAULT NULL COMMENT '是否开启用户驼峰转下划线模式',
  `sort` tinyint(4) DEFAULT NULL COMMENT '排序',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='生成模板';

/*Data for the table `generator_template` */

insert  into `generator_template`(`id`,`name`,`key`,`enable_package`,`target_package`,`target_path`,`template_content`,`scheme_id`,`name_format`,`name_underline`,`sort`) values 
('04bee1369949447ca309eb1bb134000d','数据控制层','mapper','1','com.yph.auth.mapper','E:\\testgen','package ${targetPackage};\r\n\r\nimport ${entity.targetPackage}.${entityName?cap_first};\r\nimport com.baomidou.mybatisplus.core.mapper.BaseMapper;\r\nimport org.apache.ibatis.annotations.Mapper;\r\nimport org.apache.ibatis.annotations.Param;\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\r\nimport org.springframework.stereotype.Component;\r\nimport java.util.Map;\r\nimport java.util.List;\r\n\r\n\r\n /**\r\n * @package ${targetPackage}\r\n * @title: ${functionName}数据库控制层接口\r\n * @description: ${functionDesc}数据库控制层接口\r\n * @author: ${functionAuthor}\r\n * @date: ${time}\r\n */\r\n@Mapper\r\n@Component\r\npublic interface ${entityName?cap_first}Mapper extends BaseMapper&lt;${entityName?cap_first}&gt; {\r\n\r\n    /**\r\n	  *\r\n	  * @author ${functionAuthor}\r\n	  * @description  查询${functionDesc}列表\r\n	  * @date ${time}\r\n	  * @param [queryMap]\r\n	  * @return List&lt;${entityName?cap_first}&gt;\r\n	  */\r\n	 List&lt;${entityName?cap_first}&gt; selectAll(@Param(&quot;queryMap&quot;) Map&lt;String, Object&gt; queryMap);\r\n	/**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  分页查询${functionDesc}列表\r\n	 * @date ${time}\r\n	 * @param [page, queryMap]  \r\n	 * @return com.baomidou.mybatisplus.core.metadata.IPage&lt;${entityName?cap_first}&gt;\r\n	 */ \r\n	IPage&lt;${entityName?cap_first}&gt; selectAll(Page&lt;${entityName?cap_first}&gt; page, @Param(&quot;queryMap&quot;) Map&lt;String,Object&gt; queryMap);\r\n}','67f7f85896dc4755b9f2e25888795a54','[entityName]Mapper.java','1',4),
('0d43a8e9e8be4321968a430e192e33cd','页面列表模版','viewList','1','[functionName]','E:\\testgen','&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;${functionName}&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../layui/css/layui.css&quot; media=&quot;all&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../css/app.css&quot;/&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n&lt;div class=&quot;kit-table&quot;&gt;\r\n    &lt;div class=&quot;kit-table-header&quot;&gt;\r\n        &lt;div class=&quot;kit-search-inputs&quot;&gt;\r\n            &lt;div class=&quot;kit-search-keyword&quot;&gt;\r\n                &lt;input type=&quot;text&quot; class=&quot;layui-input&quot; name=&quot;keyword&quot; autocomplete=&quot;off&quot; placeholder=&quot;搜索项&quot;/&gt;\r\n                &lt;button lay-submit lay-filter=&quot;searchIcon&quot;&gt;&lt;i class=&quot;layui-icon&quot;&gt;&amp;#xe615;&lt;/i&gt;&lt;/button&gt;\r\n            &lt;/div&gt;\r\n            &lt;div class=&quot;kit-search-more&quot; id=&quot;kit-search-more&quot;&gt;更多筛选&lt;i class=&quot;layui-icon&quot;&gt;&amp;#xe61a;&lt;/i&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;kit-search-btns&quot;&gt;\r\n            &lt;a href=&quot;javascript:;&quot; class=&quot;layui-btn layui-btn-sm&quot; id=&quot;addBtn&quot; data-url=&quot;add&quot;&gt;新增&lt;/a&gt;\r\n            &lt;a href=&quot;javascript:;&quot; class=&quot;layui-btn layui-btn-sm refresh&quot;&gt;刷新&lt;/a&gt;\r\n            &lt;a href=&quot;javascript:;&quot; id=&quot;exportExcelBtn&quot; data-url=&quot;exportExcel&quot;\r\n               class=&quot;layui-btn layui-btn-sm layui-btn-normal&quot;&gt;导出&lt;/a&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;form class=&quot;layui-form&quot; lay-filter=&quot;kit-search-form&quot; id=&quot;searchForm&quot;&gt;\r\n        &lt;div class=&quot;kit-search-mored layui-anim layui-anim-upbit&quot; id=&quot;searchDiv&quot;&gt;\r\n            &lt;div class=&quot;layui-tab layui-tab-brief&quot; lay-filter=&quot;tabBrief&quot;&gt;\r\n                &lt;ul class=&quot;layui-tab-title&quot;&gt;\r\n                    &lt;li class=&quot;layui-this&quot;&gt;常用检索&lt;/li&gt;\r\n                    &lt;li&gt;自定义检索&lt;/li&gt;\r\n                &lt;/ul&gt;\r\n                &lt;div class=&quot;layui-tab-content&quot;&gt;\r\n                    &lt;div class=&quot;layui-tab-item layui-show&quot;&gt;\r\n                        &lt;div class=&quot;kit-search-body commonRetrieval&quot;&gt;\r\n                            &lt;ul&gt;\r\n                                &lt;li class=&quot;retrievalItem&quot; data-type=&quot;1&quot; data-name=&quot;常用检索一&quot;&gt;常用检索一&lt;/li&gt;\r\n                                &lt;li class=&quot;retrievalItem&quot; data-type=&quot;2&quot; data-name=&quot;常用检索二&quot;&gt;常用检索二&lt;/li&gt;\r\n                            &lt;/ul&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;layui-tab-item&quot;&gt;\r\n                        &lt;div class=&quot;kit-search-body&quot;&gt;\r\n                            &lt;!-- 搜索隐藏表单  --&gt;\r\n                            &lt;input type=&quot;hidden&quot; id=&quot;queryType&quot; name=&quot;queryType&quot; value=&quot;${queryType!}&quot;&gt;\r\n                            &lt;input type=&quot;hidden&quot; id=&quot;queryTypeName&quot; name=&quot;queryTypeName&quot; value=&quot;${queryTypeName!}&quot;&gt;\r\n                            &lt;#assign index=0 /&gt;\r\n                            &lt;#list columns as column&gt;\r\n                            &lt;#if column.formable?? &amp;&amp; column.formable&gt;\r\n                                &lt;#assign index=index+1 /&gt;\r\n                                &lt;#if index%2==1&gt; \r\n                                    &lt;div class=&quot;layui-form-item&quot;&gt;  \r\n                                &lt;/#if&gt;\r\n                                    &lt;div class=&quot;layui-inline&quot;&gt;\r\n                                        &lt;label class=&quot;layui-form-label&quot;&gt;${column.javaField}&lt;/label&gt;\r\n                                        &lt;div class=&quot;layui-input-inline&quot;&gt;\r\n                                            &lt;input type=&quot;text&quot; class=&quot;layui-input&quot; name=&quot;${column.javaField}&quot;&gt;\r\n                                        &lt;/div&gt;\r\n                                    &lt;/div&gt;\r\n                                &lt;#if index%2==0&gt; \r\n                                    &lt;/div&gt;\r\n                                &lt;/#if&gt;\r\n                            &lt;/#if&gt;\r\n                            &lt;/#list&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;div class=&quot;kit-search-footer&quot;&gt;\r\n                            &lt;button type=&quot;reset&quot; class=&quot;layui-btn layui-btn-small layui-btn-primary kit-btn&quot;&gt;重置&lt;/button&gt;\r\n                            &lt;button lay-submit lay-filter=&quot;search&quot; class=&quot;layui-btn layui-btn-small kit-btn&quot;&gt;确定&lt;/button&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/form&gt;\r\n    &lt;div class=&quot;kit-table-body&quot;&gt;\r\n        &lt;table id=&quot;${entityName?uncap_first}List&quot; lay-filter=&quot;${entityName?uncap_first}List&quot;&gt;&lt;/table&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;script type=&quot;text/html&quot; id=&quot;${entityName?uncap_first}Bar&quot;&gt;\r\n    &lt;span class=&quot;layui-breadcrumb&quot; lay-separator=&quot;|&quot;&gt;\r\n        &lt;a lay-event=&quot;edit&quot;&gt;编辑&lt;/a&gt;\r\n        &lt;a lay-event=&quot;del&quot;&gt;删除&lt;/a&gt;\r\n        &lt;a lay-event=&quot;view&quot;&gt;查看&lt;/a&gt;\r\n    &lt;/span&gt;\r\n&lt;/script&gt;\r\n&lt;!--此处()需改为&lt;&gt;引用模板--&gt;\r\n(#include &quot;form.html&quot; /)\r\n&lt;script src=&quot;../layui/layui.js&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;../js/${entityName?uncap_first}.js&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;','67f7f85896dc4755b9f2e25888795a54','list.html','1',7),
('1745eea73f9841c8aa1d87838484996b','视图编辑模版','viewEidt','1','[functionName]','E:\\testgen','&lt;script type=&quot;text/html&quot; id=&quot;${entityName?uncap_first}FormTpl&quot;&gt;\r\n    &lt;div style=&quot;margin: 10px;&quot;&gt;\r\n        &lt;form class=&quot;layui-form&quot; id=&quot;${entityName?uncap_first}Form&quot; lay-filter=&quot;${entityName?uncap_first}Form&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;${entityName?uncap_first}Id&quot; value=&quot;{{d.${entityName?uncap_first}Id || \'\'}}&quot;&gt;\r\n            &lt;#assign index=1 /&gt;\r\n            &lt;#list columns as column&gt;\r\n                &lt;#if column.formable?? &amp;&amp; column.formable&gt;\r\n                    &lt;#assign index=index+1 /&gt;\r\n                    &lt;#if index%2==0&gt; \r\n                    &lt;div class=&quot;layui-form-item&quot;&gt;  \r\n                    &lt;/#if&gt;\r\n                    	&lt;#if column.javaField != \'${entityName?uncap_first}Id\' &gt;\r\n                        &lt;div class=&quot;layui-inline&quot;&gt;\r\n                            &lt;label class=&quot;layui-form-label&quot;&gt;${column.javaField}&lt;/label&gt;\r\n                            &lt;div class=&quot;layui-input-inline&quot;&gt;\r\n                                &lt;input type=&quot;text&quot; class=&quot;layui-input&quot; value=&quot;{{d.${column.javaField} || \'\'}}&quot; name=&quot;${column.javaField}&quot;&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;/#if&gt;\r\n                    &lt;#if index%2==1&gt; \r\n                    &lt;/div&gt;\r\n                    &lt;#elseif index==(columns?size+1) &gt;\r\n                    &lt;/div&gt;\r\n                    &lt;/#if&gt;\r\n                &lt;/#if&gt;\r\n            &lt;/#list&gt;\r\n            &lt;button class=&quot;layui-hide&quot; type=&quot;button&quot; lay-submit lay-filter=&quot;${entityName?uncap_first}Submit&quot;&gt;提交&lt;/button&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/script&gt;','67f7f85896dc4755b9f2e25888795a54','form.html','1',6),
('22fffac096414433b0bf4c5f56f11f43','实体','entity','1','com.yph.auth.entity','E:\\testgen','package ${targetPackage};\r\n\r\nimport com.baomidou.mybatisplus.annotation.IdType;\r\nimport com.baomidou.mybatisplus.annotation.TableField;\r\nimport com.baomidou.mybatisplus.annotation.TableId;\r\nimport com.baomidou.mybatisplus.annotation.TableName;\r\nimport com.yph.auth.entity.base.BaseEntity;\r\nimport lombok.Data;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.experimental.Accessors;\r\nimport java.util.Date;\r\nimport org.springframework.format.annotation.DateTimeFormat;\r\n\r\n/**\r\n * @package ${targetPackage}\r\n * @title: ${functionName}实体\r\n * @description: ${functionDesc}实体\r\n * @author: ${functionAuthor}\r\n * @date: ${time}\r\n */\r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@Accessors(chain = true)\r\n@TableName(&quot;${tableName}&quot;)\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class ${entityName?cap_first} extends BaseEntity {\r\n\r\n    &lt;#list columns as column&gt;\r\n    /**\r\n     *${column.remarks}\r\n     */\r\n    &lt;#if column.parmaryKey&gt;\r\n    @TableId(value = &quot;${column.columnName}&quot;, type = IdType.AUTO)\r\n    &lt;#else&gt;\r\n    @TableField(value = &quot;${column.columnName}&quot;)\r\n    &lt;/#if&gt;\r\n    &lt;#if column.javaType==&quot;Date&quot;&gt;\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n    &lt;/#if&gt;\r\n	private &lt;#if column.javaType==\'this\'&gt;${entityName?cap_first}&lt;#else&gt;${column.javaType}&lt;/#if&gt; ${column.javaField?uncap_first};\r\n	&lt;/#list&gt;\r\n	\r\n}','67f7f85896dc4755b9f2e25888795a54','[entityName].java','1',1),
('237a0c53552f4be28e49fd8467d0ddc7','js文件','js','1','js','E:\\testgen','layui.extend({\r\n    serializejson: \'../js/serializejson\',\r\n    dealSearch: \'../js/common\',\r\n	underscore: \'../js/underscore\'\r\n}).use([\'element\', \'form\', \'table\', \'laytpl\', \'layer\', \'dealSearch\', \'underscore\'], function () {\r\n    var $ = layui.jquery,\r\n        element = layui.element,\r\n        form = layui.form,\r\n        table = layui.table,\r\n        layer = layui.layer,\r\n        laytpl = layui.laytpl,\r\n        dealSearch = layui.dealSearch,\r\n        _ = layui.underscore;\r\n\r\n    var tableIndex = table.render({\r\n        elem: \'#${entityName?uncap_first}List\',\r\n        height: \'full-50\', //容器高度\r\n        url: \'ajaxList\',\r\n        page: {\r\n            limit: 10,\r\n            limits: [10, 20, 50]\r\n        },\r\n        request: {\r\n            limitName: \'size\',\r\n            pageName: \'current\'\r\n        },\r\n        response: {\r\n            countName: \'total\'\r\n        },\r\n        id: \'${entityName?uncap_first}List\',\r\n        cols: [\r\n            [{\r\n                type: \'checkbox\',\r\n                fixed: true\r\n            },\r\n             &lt;#list columns as column&gt;\r\n				{\r\n                    field: \'${column.javaField}\',\r\n                    title: \'${column.javaField}\',\r\n                    width: 100,\r\n                    sort: true\r\n                },\r\n             &lt;/#list&gt;\r\n                {\r\n                    fixed: \'right\',\r\n                    title: \'操作\',\r\n                    align: \'center\',\r\n                    toolbar: \'#${entityName?uncap_first}Bar\',\r\n                    width: 200\r\n                }\r\n            ]\r\n        ],\r\n        done: function () {\r\n            element.render(\'breadcrumb\');\r\n        },\r\n        loading: true\r\n    });\r\n\r\n    dealSearch(tableIndex, form);\r\n\r\n    $(\'#addBtn\').click(function () {\r\n        var url = $(this).data(\'url\');\r\n     	var loadingLayer = layer.load(2, { shade: 0.3 });\r\n        $.get(url, function (d) {\r\n          	layer.close(loadingLayer);\r\n            d.data = d.data || {${entityName?uncap_first}: {}};\r\n            laytpl($(\'#${entityName?uncap_first}FormTpl\').html()).render(d.data||{}, function (html) {\r\n                layer.open({\r\n                    type: 1,\r\n                    title: \'新增\',\r\n                    content: html,\r\n                    area: [\'800px\', $(window).height() - 20 + \'px\'],\r\n                    btn: [\'取消\', \'确定\'],\r\n                    success: function () {\r\n                        form.render(null, \'${entityName?uncap_first}Form\');\r\n                        form.on(\'submit(${entityName?uncap_first}Submit)\', function (data) {\r\n                          	layer.confirm(\'确定提交？\', {\r\n                                icon: 3,\r\n                                title: \'提示\',\r\n                                btn: [\'取消\', \'确认\'],\r\n                                yes: function (i) {\r\n                                    layer.close(i);\r\n                                },\r\n                                btn2: function () {\r\n                                    $(\'form[lay-filter=&quot;${entityName?uncap_first}Form&quot;]\').find(\'button[lay-submit]\').prop(\'disabled\', true);\r\n                                    loadingLayer = layer.load(2, { shade: 0.3 });\r\n                                    $.post(\'save\', data.field, function (res) {\r\n                                        layer.close(loadingLayer);\r\n                                        if (res.code === 0) {\r\n                                            layer.closeAll();\r\n                                            layer.msg(res.msg, {\r\n                                                icon: 1,\r\n                                                time: 2000\r\n                                            }, function () {\r\n                                                tableIndex.reload();\r\n                                            });\r\n                                        } else {\r\n                                            $(\'form[lay-filter=&quot;${entityName?uncap_first}Form&quot;]\').find(\'button[lay-submit]\').prop(\'disabled\', false);\r\n                                            layer.alert(res.msg, {\r\n                                                icon: 2\r\n                                            });\r\n                                        }\r\n                                    });\r\n                                }\r\n                            });\r\n                            return false;\r\n                        });\r\n                    },\r\n                    btn2: function () {\r\n                        $(\'form[lay-filter=&quot;${entityName?uncap_first}Form&quot;]\').find(\'button[lay-submit]\').click();\r\n                        return false;\r\n                    }\r\n                })\r\n            });\r\n        });\r\n    });\r\n\r\n    //监听工具条\r\n    table.on(\'tool(${entityName?uncap_first}List)\', function (obj) {\r\n        var data = obj.data;\r\n        var layEvent = obj.event;\r\n        if (layEvent === \'edit\') { //编辑\r\n          	var loadingLayer = layer.load(2, { shade: 0.3 });\r\n            $.get(data.${entityName?uncap_first}Id + \'/view\')\r\n                .done(function (d) {\r\n              		layer.close(loadingLayer);\r\n                    laytpl($(\'#${entityName?uncap_first}FormTpl\').html()).render(d.data, function (html) {\r\n                        layer.open({\r\n                            type: 1,\r\n                            title: \'编辑\',\r\n                            content: html,\r\n                            area: \'800px\',\r\n                            btn: [\'取消\', \'确定\'],\r\n                            maxHeight: $(window).height() - 20,\r\n                            success: function () {\r\n                                form.render(null, \'${entityName?uncap_first}Form\');\r\n                                form.on(\'submit(${entityName?uncap_first}Submit)\', function (data) {\r\n                                    layer.confirm(\'确定提交？\', {\r\n                                        icon: 3,\r\n                                        title: \'提示\',\r\n                                        btn: [\'取消\', \'确认\'],\r\n                                        yes: function (i) {\r\n                                            layer.close(i);\r\n                                        },\r\n                                        btn2: function () {\r\n                                            $(\'form[lay-filter=&quot;${entityName?uncap_first}Form&quot;]\').find(\'button[lay-submit]\').prop(\'disabled\', true);\r\n                                            loadingLayer = layer.load(2, { shade: 0.3 });\r\n                                            $.post(\'update\', data.field, function (res) {\r\n                                                layer.close(loadingLayer);\r\n                                                if (res.code === 0) {\r\n                                                    layer.closeAll();\r\n                                                    layer.msg(res.msg, {\r\n                                                        icon: 1,\r\n                                                        time: 2000\r\n                                                    }, function () {\r\n                                                        tableIndex.reload();\r\n                                                    });\r\n                                                } else {\r\n                                                    $(\'form[lay-filter=&quot;${entityName?uncap_first}Form&quot;]\').find(\'button[lay-submit]\').prop(\'disabled\', false);\r\n                                                    layer.alert(res.msg, {\r\n                                                        icon: 2\r\n                                                    });\r\n                                                }\r\n                                            });\r\n                                        }\r\n                                    });\r\n                                    return false;\r\n                                });\r\n                            },\r\n                            btn2: function () {\r\n                                $(\'form[lay-filter=&quot;${entityName?uncap_first}Form&quot;]\').find(\'button[lay-submit]\').click();\r\n                                return false;\r\n                            }\r\n                        })\r\n                    });\r\n                });\r\n        } else if (layEvent === \'del\') { //删除\r\n            layer.confirm(\'确定删除该数据？\', {\r\n                icon: 3,\r\n                title: \'提示\',\r\n                btn: [\'取消\', \'确认\']\r\n            }, function (index) {\r\n                layer.close(index);\r\n            }, function () {\r\n              	var loadingLayer = layer.load(2, {shade: 0.3});\r\n                $.post(data.${entityName?uncap_first}Id + \'/delete\')\r\n                    .done(function (res) {\r\n                  		loadingLayer = layer.load(2, {shade: 0.3});\r\n                        if (res.code === 0) {\r\n                            layer.closeAll();\r\n                            layer.msg(res.msg, {\r\n                                icon: 1,\r\n                                time: 2000\r\n                            }, function () {\r\n                                tableIndex.reload();\r\n                            });\r\n                        } else {\r\n                            layer.alert(res.msg, {\r\n                                icon: 2\r\n                            });\r\n                        }\r\n                    });\r\n            });\r\n\r\n        } else if (layEvent === \'view\') { //查看\r\n            $.get(data.${entityName?uncap_first}Id + \'/view\')\r\n                .done(function (d) {\r\n                    laytpl($(\'#${entityName?uncap_first}FormTpl\').html()).render(d.data, function (html) {\r\n                        layer.open({\r\n                            type: 1,\r\n                            title: \'详情\',\r\n                            content: html,\r\n                            area: [\'800px\', $(window).height() - 20 + \'px\'],\r\n                            success: function () {\r\n                                $(\'#${entityName?uncap_first}Form\').find(\'input,select\').attr(\'readonly\', \'readonly\');\r\n                                form.render(null, \'${entityName?uncap_first}Form\');\r\n                            }\r\n                        })\r\n                    })\r\n                })\r\n        }\r\n    });\r\n});','67f7f85896dc4755b9f2e25888795a54','[functionName].js','0',8),
('4d0a93a0f45f4911a1a5d21a3d6644f8','服务接口实现','ServiceImpl','1','com.yph.auth.service.impl','E:\\testgen','package ${targetPackage};\r\n\r\nimport ${iservice.targetPackage}.I${entityName?cap_first}Service;\r\nimport ${entity.targetPackage}.${entityName?cap_first};\r\nimport ${mapper.targetPackage}.${entityName?cap_first}Mapper;\r\nimport com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\r\nimport com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;\r\nimport com.yph.authcommon.ExcelUtils;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.cglib.beans.BeanMap;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.lang.reflect.Field;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\n/**\r\n* @package ${targetPackage}\r\n* @title: ${functionName}服务实现\r\n* @description: ${functionDesc}服务实现\r\n* @author: ${functionAuthor}\r\n* @date: ${time}\r\n*/\r\n@Transactional\r\n@Service(&quot;${entityName?lower_case}Service&quot;)\r\npublic class ${entityName?cap_first}ServiceImpl  extends ServiceImpl&lt;${entityName?cap_first}Mapper, ${entityName?cap_first}&gt; implements  I${entityName?cap_first}Service {\r\n\r\n	protected Logger LOGGER = LoggerFactory.getLogger(getClass());\r\n\r\n	@Autowired\r\n    private ${entityName?cap_first}Mapper ${functionName}Mapper;\r\n\r\n    @Override\r\n    public void export(HttpServletRequest request, HttpServletResponse response, Map&lt;String,Object&gt; queryMap)\r\n    {\r\n        try\r\n        {\r\n            //查询待导出数据\r\n            List&lt;${entityName?cap_first}&gt; resultList = baseMapper.selectAll(queryMap);\r\n\r\n            //封装导出参数\r\n            String excelName = &quot;${functionName}数据导出&quot;;//导出的EXCEL名字\r\n            String sheetName = &quot;${functionName}数据导出&quot;;//导出的SHEET名字\r\n\r\n            Class cls = ${entityName?cap_first}.class;\r\n            Field[] fields = cls.getDeclaredFields();\r\n\r\n            String[] headers = new String[fields.length];//导出的表格的表头\r\n            String[] ds_titles = new String[fields.length];//导出的数据 map.get(key) 对应的 key\r\n            int[] ds_format = new int[fields.length];//导出数据的样式\r\n\r\n            for (int i = 0; i &lt; fields.length; i++)\r\n            {\r\n                Field f = fields[i];\r\n                headers[i] = f.getName();\r\n                ds_titles[i] = f.getName();\r\n                ds_format[i] = ExcelUtils.DS_FORMAT_STRING_CENTER;\r\n            }\r\n\r\n            List&lt;Map&lt;String, Object&gt;&gt; data = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();\r\n            for (${entityName?cap_first} obj : resultList)\r\n            {\r\n                //实体对象转map对象\r\n                Map&lt;String, Object&gt; map = BeanMap.create(obj);\r\n                data.add(map);\r\n            }\r\n            ExcelUtils.export(excelName, sheetName, headers, ds_titles, ds_format, null, data, request, response);\r\n        } catch (IOException e)\r\n        {\r\n            LOGGER.error(&quot;导出excel出错&quot;, e);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public IPage&lt;${entityName?cap_first}&gt; selectAll(Page&lt;${entityName?cap_first}&gt; page, Map&lt;String, Object&gt; queryMap) {\r\n        return ${functionName}Mapper.selectAll(page,queryMap);\r\n    }\r\n}','67f7f85896dc4755b9f2e25888795a54','[entityName]ServiceImpl.java','1',3),
('74f91057a36f4a279b2d838582e8e6a0','服务接口','iservice','1','com.yph.auth.service','E:\\testgen','package ${targetPackage};\r\n\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\r\nimport com.baomidou.mybatisplus.extension.service.IService;\r\nimport ${entity.targetPackage}.${entityName?cap_first};\r\nimport java.util.Map;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\n/**\r\n* @package ${targetPackage}\r\n* @title: ${functionName}服务接口\r\n* @description: ${functionDesc}服务接口\r\n* @author: ${functionAuthor}\r\n* @date: ${time}\r\n*/\r\npublic interface I${entityName?cap_first}Service extends IService&lt;${entityName?cap_first}&gt; {\r\n\r\n    /**\r\n     * 导出excel\r\n     *\r\n     * @author ${functionAuthor}\r\n     * @date ${time}\r\n     * @param [wrapper]\r\n     * @return void\r\n     */\r\n    void export(HttpServletRequest request, HttpServletResponse response,Map&lt;String,Object&gt; queryMap);\r\n    /**  \r\n     * 分页查询\r\n     *   \r\n     * @author ${functionAuthor}\r\n     * @date ${time}\r\n     * @param [page,queryMap]\r\n     * @return com.baomidou.mybatisplus.core.metadata.IPage&lt;${entityName?cap_first}&gt;  \r\n     */ \r\n    IPage&lt;${entityName?cap_first}&gt; selectAll(Page&lt;${entityName?cap_first}&gt; page, Map&lt;String,Object&gt; queryMap);\r\n}','67f7f85896dc4755b9f2e25888795a54','I[entityName]Service.java','1',2),
('772be5a386574378ae2f11f7b4d10671','视图查看模版','view','1','[functionName]','E:\\testgen','&lt;script type=&quot;text/html&quot; id=&quot;${entityName?uncap_first}FormTpl&quot;&gt;\r\n    &lt;div style=&quot;margin: 10px;&quot;&gt;\r\n        &lt;form class=&quot;layui-form&quot; id=&quot;${entityName?uncap_first}Form&quot; lay-filter=&quot;${entityName?uncap_first}Form&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; name=&quot;${entityName?uncap_first}Id&quot; value=&quot;{{d.${entityName?uncap_first}Id || \'\'}}&quot;&gt;\r\n            &lt;#assign index=1 /&gt;\r\n            &lt;#list columns as column&gt;\r\n                &lt;#if column.formable?? &amp;&amp; column.formable&gt;\r\n                    &lt;#assign index=index+1 /&gt;\r\n                    &lt;#if index%2==0&gt; \r\n                    &lt;div class=&quot;layui-form-item&quot;&gt;  \r\n                    &lt;/#if&gt;\r\n                    	&lt;#if column.javaField != \'${entityName?uncap_first}Id\' &gt;\r\n                        &lt;div class=&quot;layui-inline&quot;&gt;\r\n                            &lt;label class=&quot;layui-form-label&quot;&gt;${column.javaField}&lt;/label&gt;\r\n                            &lt;div class=&quot;layui-input-inline&quot;&gt;\r\n                                &lt;input type=&quot;text&quot; class=&quot;layui-input&quot; value=&quot;{{d.${column.javaField} || \'\'}}&quot; name=&quot;${column.javaField}&quot; readonly&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;/#if&gt;\r\n                    &lt;#if index%2==1&gt; \r\n                    &lt;/div&gt;\r\n                    &lt;#elseif index==(columns?size+1) &gt;\r\n                    &lt;/div&gt;\r\n                    &lt;/#if&gt;\r\n                &lt;/#if&gt;\r\n            &lt;/#list&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n&lt;/script&gt;','67f7f85896dc4755b9f2e25888795a54','view.html','1',9),
('80a1edcdacc64f0ab74a1856ec8184fe','mapperSQL映射文件','xmlmapper','0','','E:\\testgen','&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n&lt;mapper namespace=&quot;${mapper.targetPackage}.${entityName?cap_first}Mapper&quot; &gt;\r\n\r\n	&lt;sql id=&quot;Base_Column_List&quot;&gt;\r\n	&lt;#list columns as column&gt;\r\n		t.${column.columnName}&lt;#if column_has_next&gt;,&lt;/#if&gt;\r\n	&lt;/#list&gt;\r\n	&lt;/sql&gt;\r\n    &lt;select id=&quot;selectAll&quot; parameterType=&quot;map&quot; resultType=&quot;${entity.targetPackage}.${entityName?cap_first}&quot;&gt;\r\n		select * from ${scheme.tableName} t\r\n		&lt;where&gt;\r\n        	&lt;if test=&quot;queryMap.queryType!=null and queryMap.queryType==1 &quot;&gt;\r\n            \r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;queryMap.queryType!=null and queryMap.queryType==2 &quot;&gt;\r\n            \r\n            &lt;/if&gt;\r\n		&lt;#list columns as column&gt;\r\n            &lt;#if column.parmaryKey&gt;\r\n            &lt;#assign aaa = column.columnName&gt;\r\n            &lt;/#if&gt;\r\n        	&lt;if test=&quot;queryMap.${column.javaField}!=null&quot;&gt;\r\n              	&lt;#if column.javaType == \'String\'&gt;\r\n            	and t.${column.columnName} like CONCAT(\'%\',&lt;#noparse&gt;#{&lt;/#noparse&gt;queryMap.${column.javaField}&lt;#noparse&gt;}&lt;/#noparse&gt;,\'%\' )\r\n            	&lt;#else&gt;\r\n				and t.${column.columnName} = &lt;#noparse&gt;#{&lt;/#noparse&gt;queryMap.${column.javaField}&lt;#noparse&gt;}&lt;/#noparse&gt;\r\n                &lt;/#if&gt;\r\n			&lt;/if&gt;\r\n		&lt;/#list&gt;\r\n		&lt;/where&gt;\r\n		order by t.${aaa} desc\r\n    &lt;/select&gt;\r\n    \r\n&lt;/mapper&gt;','67f7f85896dc4755b9f2e25888795a54','[entityName]Mapper.xml','1',5),
('8bb99e01b7f44afeab67ac281dbb9d54','控制器','controller','1','com.yph.auth.controller','E:\\testgen','package ${targetPackage};\r\n\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport com.baomidou.mybatisplus.extension.plugins.pagination.Page;\r\nimport com.yph.authcommon.ApiResult;\r\nimport com.yph.authcommon.BaseController;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.validation.BindingResult;\r\nimport org.springframework.web.bind.annotation.*;\r\nimport org.springframework.web.servlet.ModelAndView;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.HashMap;\r\n\r\nimport ${iservice.targetPackage}.I${entityName?cap_first}Service;\r\nimport ${entity.targetPackage}.${entityName?cap_first};\r\n\r\n\r\n/**\r\n *\r\n * @package ${targetPackage}\r\n * @title: ${functionName}控制器\r\n * @description: ${functionDesc}控制器\r\n * @author: ${functionAuthor}\r\n * @date: ${time}\r\n */\r\n@Api(description = &quot;${functionDesc}接口&quot;)\r\n@RestController\r\n@RequestMapping(&quot;${entityName?uncap_first}&quot;)\r\npublic class ${entityName?cap_first}Controller extends BaseController&lt;${entityName?cap_first}&gt; {\r\n\r\n	@Autowired\r\n	private I${entityName?cap_first}Service ${entityName?uncap_first}Service;\r\n\r\n	/**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  ${functionDesc}列表页面跳转\r\n	 * @date ${time}\r\n	 * @param [model, request, response]  \r\n	 * @return org.springframework.web.servlet.ModelAndView  \r\n	 */ \r\n	@GetMapping(&quot;list&quot;)\r\n	public ModelAndView list(Model model, HttpServletRequest request, HttpServletResponse response) {\r\n		return new ModelAndView(&quot;${entityName?uncap_first}/list&quot;);\r\n	}\r\n\r\n	/**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  查询${functionDesc}列表数据\r\n	 * @date ${time}\r\n	 * @param [request, response, page]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@ApiOperation(value = &quot;查询${functionDesc}&quot; ,  notes=&quot;查询${functionDesc}列表&quot;)\r\n	@GetMapping(value = &quot;ajaxList&quot;)\r\n	public ApiResult ajaxList(HttpServletRequest request, HttpServletResponse response, Page&lt;${entityName?cap_first}&gt; page) {\r\n		\r\n		Map&lt;String,Object&gt; queryMap = getQueryParam(request);\r\n        IPage&lt;${entityName?cap_first}&gt; pageResult = ${entityName?uncap_first}Service.selectAll(page, queryMap);\r\n        return new ApiResult(pageResult);\r\n	}\r\n\r\n	/**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  新增${functionDesc}表单初始化请求\r\n	 * @date ${time}\r\n	 * @param [model, request, response]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@GetMapping(value = &quot;add&quot;)\r\n	public ApiResult add(Model model, HttpServletRequest request, HttpServletResponse response) {\r\n		return new ApiResult(ApiResult.SUCCESS,&quot;&quot;,null);\r\n	}\r\n\r\n	/**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  新增${functionDesc}提交\r\n	 * @date ${time}\r\n	 * @param [entity, result, request, response]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@ApiOperation(value = &quot;新增${functionDesc}&quot; ,  notes=&quot;新增${functionDesc}记录&quot;)\r\n	@PostMapping(&quot;save&quot;)\r\n	public ApiResult save(${entityName?cap_first} entity,HttpServletRequest request, HttpServletResponse response) {\r\n\r\n		${entityName?uncap_first}Service.save(entity);\r\n		return new ApiResult(ApiResult.SUCCESS,&quot;添加成功&quot;);\r\n	}\r\n\r\n    /**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  查询${functionDesc}详情\r\n	 * @date ${time}\r\n	 * @param [id, model, request, response]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@ApiOperation(value = &quot;查询${functionDesc}详情&quot; ,  notes=&quot;查询${functionDesc}详情数据&quot;)\r\n	@GetMapping(value = &quot;{id}/view&quot;)\r\n	public ApiResult view(@PathVariable(&quot;id&quot;) String id, Model model, HttpServletRequest request,\r\n							   HttpServletResponse response) {\r\n		\r\n        Map&lt;String,Object&gt; map = new HashMap&lt;&gt;();\r\n		${entityName?cap_first} ${entityName?uncap_first} = ${entityName?uncap_first}Service.getById(id);\r\n		map.put(&quot;${entityName?uncap_first}&quot;,${entityName?uncap_first});\r\n\r\n		return new ApiResult(ApiResult.SUCCESS,&quot;&quot;,map);\r\n	}\r\n\r\n    /**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  查询${functionDesc}详情\r\n	 * @date ${time}\r\n	 * @param [entity, result, request, response]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@ApiOperation(value = &quot;更新${functionDesc}&quot; ,  notes=&quot;更新${functionDesc}数据&quot;)\r\n	@PostMapping(&quot;{id}/update&quot;)\r\n	public ApiResult update(${entityName?cap_first} entity, BindingResult result,\r\n						   HttpServletRequest request, HttpServletResponse response) {\r\n\r\n		${entityName?uncap_first}Service.updateById(entity);\r\n		return new ApiResult(ApiResult.SUCCESS,&quot;更新成功&quot;);\r\n	}\r\n\r\n    /**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  删除${functionDesc}\r\n	 * @date ${time}\r\n	 * @param [id]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@ApiOperation(value = &quot;删除${functionDesc}&quot; ,  notes=&quot;删除${functionDesc}数据&quot;)\r\n	@PostMapping(&quot;{id}/delete&quot;)\r\n	public ApiResult delete(@PathVariable(&quot;id&quot;) Integer id) {\r\n		${entityName?uncap_first}Service.removeById(id);\r\n		return new ApiResult(ApiResult.SUCCESS,&quot;删除成功&quot;);\r\n	}\r\n\r\n    /**  \r\n	 *   \r\n	 * @author ${functionAuthor}\r\n	 * @description  批量删除${functionDesc}\r\n	 * @date ${time}\r\n	 * @param [ids]  \r\n	 * @return com.dyk.common.controller.ApiResult  \r\n	 */ \r\n	@ApiOperation(value = &quot;批量删除${functionDesc}&quot; ,  notes=&quot;批量删除${functionDesc}数据&quot;)\r\n	@PostMapping(&quot;batch/delete&quot;)\r\n	public ApiResult batchDelete(@RequestParam(&quot;ids&quot;) String[] ids) {\r\n		List&lt;String&gt; idList = java.util.Arrays.asList(ids);\r\n		${entityName?uncap_first}Service.removeByIds(idList);\r\n		return new ApiResult(ApiResult.SUCCESS,&quot;删除成功&quot;);\r\n	} \r\n    /**\r\n     * 导出excel\r\n     *\r\n     * @param [request, response]\r\n     * @return void\r\n     * @author pengqiang\r\n     * @date 2019/3/11\r\n     */\r\n    @ApiOperation(value = &quot;导出${functionDesc}列表&quot;, notes = &quot;导出${functionDesc}列表&quot;)\r\n    @GetMapping(&quot;export&quot;)\r\n    public void export(HttpServletRequest request, HttpServletResponse response)\r\n    {\r\n		Map&lt;String,Object&gt; queryMap = getQueryParam(request);\r\n        ${entityName?uncap_first}Service.export(request, response, queryMap);\r\n    }\r\n\r\n}','67f7f85896dc4755b9f2e25888795a54','[entityName]Controller.java','1',0);

/*Table structure for table `generator_template_scheme` */

DROP TABLE IF EXISTS `generator_template_scheme`;

CREATE TABLE `generator_template_scheme` (
  `id` varchar(32) NOT NULL COMMENT '主键',
  `title` varchar(50) NOT NULL COMMENT '方案标题',
  `description` varchar(4000) NOT NULL COMMENT '方案描述',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='codegen_template_scheme';

/*Data for the table `generator_template_scheme` */

insert  into `generator_template_scheme`(`id`,`title`,`description`) values 
('67f7f85896dc4755b9f2e25888795a54','dyk demo普通模版方案','dyk demo普通模版方案');

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */;
